# **nv_plot**

#### _author: Liu Shijia_

## 功能简介
- 画因子净值图


### 出图效果
- 每个参数值并排出两幅图。左图为最近两周数据，右图为全样本数据。
- 每幅图上分别叠加因子净值、股票收盘价以及仓位。


### getplot
- 用于画出因子净值、股票收盘价折线以及仓位点


### grid
- 用于生成并排的两张图

## 使用方法
### 文件夹设置
  - 将本文件与因子净值文件及股票数据文件放到一个文件夹下
### 更新内容
  - 1.
    -![tu1.PNG](https://i.loli.net/2019/09/25/KVjQDPfwncgzmHG.png)
    - 如上图，第6、7行读取文件改为因子文件名；第8行改为股票数据文件名
    - 第7行loc后截取了最近两周的时间，需更新。本例中今日为9.24，因此截取10日至今数据
  - 2.股票数据的日期起止需要和因子文件中的日期起止一致。
    - 若股票数据时间短于因子文件，请先更新股票数据；
    - 若股票数据时间长于因子文件，如下图，代码第23行处截取需要的时间段。本例中截取了股票数据2018/1/11 10:00后的数据
    -![tu2.PNG](https://i.loli.net/2019/09/25/y3de17O8WS4nmrl.png)
    - 若两文件数据一致，请删除23行loc[‘’]内容
  - 3.
    -![tu3.PNG](https://i.loli.net/2019/09/25/bRqUOEF1Cx6kcmn.png)
    - 代码29行处同样需更新最近两周数据时间
### 文件格式
  - 因子值文件
    -![tu4.png](https://i.loli.net/2019/09/25/xlLGpuC6jSY7AXm.png)
    - 如上图格式，30分钟数据，需要每个参数一列净值一列仓位/打分排列
    
  - 股票数据文件
    -![tu5.png](https://i.loli.net/2019/09/25/M7A9rjLBkg2zEQV.png)
    - 如上图，5分钟数据，必须有close和symbol列
